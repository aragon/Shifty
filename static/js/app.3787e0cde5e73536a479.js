webpackJsonp([1],{25:function(e,t,n){"use strict";var r=n(26),s=n.n(r),a=n(28),i=n.n(a),o=n(51),u=n.n(o),c=n(27),d=n.n(c),l=n(52),f=n.n(l),v=n(53),m=n.n(v),p=n(44),h="https://shapeshift.io",_=function(){function e(){f()(this,e)}return m()(e,null,[{key:"coins",value:function(){function e(){return t.apply(this,arguments)}var t=d()(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$.getJSON(h+"/getcoins",null);case 2:return t=e.sent,n=u()(t).map(function(e){return t[e]}),e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"marketInfo",value:function(){function e(e,n){return t.apply(this,arguments)}var t=d()(i.a.mark(function e(t,n){var r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$.getJSON(h+"/marketinfo/"+t+"_"+n,null);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"sendEmailReceipt",value:function(){function t(e,t){return n.apply(this,arguments)}var n=d()(i.a.mark(function t(n,r){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.$.post(h+"/mail",{email:n,txid:r});case 3:return a=t.sent,t.abrupt("return",!!a.error);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",new s.a(function(t){setTimeout(function(){t(e.sendEmailReceipt(n,r))},5e3)}));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return t}()},{key:"shift",value:function(){function e(e,n){return t.apply(this,arguments)}var t=d()(i.a.mark(function e(t,n){var r,s=n.amount,a=n.returnAddress,o=n.withdrawalAddress;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.$.post(h+"/sendamount",{apiKey:p.a.pubKey,withdrawal:o,pair:t,amount:s,returnAddress:a});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.a=_},41:function(e,t,n){"use strict";var r=n(23),s=n(24),a=n(46);r.a.use(s.a),t.a=new s.a.Store({mutations:a.a,state:a.b})},43:function(e,t,n){n(91);var r=n(21)(n(47),n(98),null,null);e.exports=r.exports},44:function(e,t,n){"use strict";t.a={pubKey:"84e5d499dd96f84a3b66ec2aefe2d5b87651b75a4d454861fb2b7d2439e6109740e67c1da8d259f2053214e49d834f3cf8ef6c1773e8b5eb3b78beee504e26ee"}},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),s=n(24),a=n(42),i=n.n(a),o=n(43),u=n.n(o),c=n(41);r.a.config.productionTip=!1,r.a.use(s.a),r.a.use(i.a),new r.a({el:"#app",store:c.a,render:function(e){return e(u.a)}})},46:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return s});var r={coins:[],selectedCoin:"BTC",ethAddress:void 0,marketInfo:{}},s={setCoins:function(e,t){e.coins=t},setSelectedCoin:function(e,t){e.selectedCoin=t},setAmount:function(e,t){e.amount=t},setReturnAddress:function(e,t){e.returnAddress=t},setEthAddress:function(e,t){e.ethAddress=t},setMarketInfo:function(e,t){e.marketInfo=t}}},47:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(96),s=n.n(r),a=n(95),i=n.n(a);t.default={name:"app",components:{Inputs:s.a,Conversion:i.a}}},48:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(25);t.default={name:"conversion",computed:{selectedCoin:function(){return this.$store.state.selectedCoin}},asyncComputed:{marketInfo:function(){return this.$store.state.marketInfo}},mounted:function(){var e=this,t=function(){r.a.marketInfo(e.selectedCoin,"ETH").then(function(t){e.$store.commit("setMarketInfo",t)})};t(),setInterval(function(){return t()},3e4)}}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(28),s=n.n(r),a=n(27),i=n.n(a),o=n(25);t.default={name:"inputs",data:function(){return{error:void 0,amount:0,returnAddress:void 0,ethAddress:void 0}},computed:{coins:function(){return this.$store.state.coins},selectedCoin:function(){return this.$store.state.selectedCoin},conversion:function(){return this.amount*this.$store.state.marketInfo.rate}},methods:{shift:function(){var e=this;return i()(s.a.mark(function t(){var n,r;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.$(".dimmer").addClass("active"),n=e.$store.state.marketInfo.pair,t.next=4,o.a.shift(n,{amount:e.conversion,returnAddress:e.returnAddress,withdrawalAddress:e.ethAddress});case 4:r=t.sent,r.error?(e.error=r.error,window.$(".dimmer").removeClass("active")):window.location.href="https://shapeshift.io/#/status/"+r.success.orderId;case 6:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;o.a.coins().then(function(t){e.$store.commit("setCoins",t),requestAnimationFrame(function(){return window.$(".ui.dropdown").dropdown({onChange:function(t){e.$store.commit("setSelectedCoin",t)}})})})}}},90:function(e,t){},91:function(e,t){},92:function(e,t){},95:function(e,t,n){n(90);var r=n(21)(n(48),n(97),"data-v-6cbb999a",null);e.exports=r.exports},96:function(e,t,n){n(92);var r=n(21)(n(49),n(99),"data-v-d106aa26",null);e.exports=r.exports},97:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui equal width stackable grid"},[n("div",{staticClass:"center aligned column"},[n("label",[e._v("Exchange rate")]),e._v("\n    1 "+e._s(e.selectedCoin)+" = "+e._s(e.marketInfo.rate)+" ETH\n  ")]),e._v(" "),n("div",{staticClass:"center aligned column"},[n("label",[e._v("Deposit limit")]),e._v("\n    "+e._s(e.marketInfo.limit)+" "+e._s(e.selectedCoin)+"\n  ")]),e._v(" "),n("div",{staticClass:"center aligned column"},[n("label",[e._v("Minimum deposit")]),e._v("\n    "+e._s(e.marketInfo.minimum)+" "+e._s(e.selectedCoin)+"\n  ")])])},staticRenderFns:[]}},98:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui text container segment",attrs:{id:"app"}},[n("inputs"),e._v(" "),n("div",{staticClass:"ui hidden divider"}),e._v(" "),n("conversion"),e._v(" "),e._m(0)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ui inverted dimmer"},[n("div",{staticClass:"ui text loader"},[e._v("Loading")])])}]}},99:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"ui form",on:{submit:function(t){t.preventDefault(),e.shift(t)}}},[e.error?n("div",{staticClass:"ui negative message"},[n("div",{staticClass:"header"},[e._v("Error")]),e._v(" "),n("p",[e._v(e._s(e.error))])]):e._e(),e._v(" "),n("div",{staticClass:"two fields"},[n("div",{staticClass:"field"},[n("div",{staticClass:"ui fluid search selection dropdown"},[n("input",{attrs:{type:"hidden",name:"coin"},domProps:{value:e.selectedCoin}}),e._v(" "),n("i",{staticClass:"dropdown icon"}),e._v(" "),n("div",{staticClass:"default text"},[e._v("Select coin")]),e._v(" "),n("div",{staticClass:"menu"},e._l(e.coins,function(t){return n("div",{staticClass:"item",attrs:{"data-value":t.symbol}},[n("img",{staticClass:"ui tiny image",attrs:{src:t.imageSmall}}),e._v(" "+e._s(t.name))])}))])]),e._v(" "),n("div",{staticClass:"ui field big input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"amount"}],attrs:{type:"text",name:"amount",placeholder:"Amount"},domProps:{value:e.amount},on:{input:function(t){t.target.composing||(e.amount=t.target.value)}}}),e._v(" "),e.amount>0?n("span",{staticClass:"conversion"},[e._v("~= "+e._s(e.conversion.toFixed(2))+" ETH")]):e._e()])]),e._v(" "),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.returnAddress,expression:"returnAddress"}],attrs:{type:"text",name:"returnAddress",placeholder:"Return address, in case the shift doesn't work"},domProps:{value:e.returnAddress},on:{input:function(t){t.target.composing||(e.returnAddress=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"field"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.ethAddress,expression:"ethAddress"}],attrs:{type:"text",name:"ethAddress",placeholder:"Ethereum address that will receive the tokens"},domProps:{value:e.ethAddress},on:{input:function(t){t.target.composing||(e.ethAddress=t.target.value)}}})]),e._v(" "),n("button",{staticClass:"ui primary huge fluid button"},[e._v("Buy tokens")])])},staticRenderFns:[]}}},[45]);
//# sourceMappingURL=app.3787e0cde5e73536a479.js.map